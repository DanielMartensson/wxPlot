<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wxPlot: Tutorial - Add your own plot</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">wxPlot<span id="projectnumber">&#160;1.8</span>
   </div>
   <div id="projectbrief">Real time plot library for wxWidgets</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Tutorial - Add your own plot</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<p>To make an own plot you need to first make sure that type of figure you want to use. Head over to the <code>plotfigures.h</code> file. In this case we can se that <code>WXPLOT_FIGURE_2D</code> is available at this moment. It's planned for 3D as well. We decided to use 2D in this tutorial.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    WXPLOT_FIGURE_2D</div>
<div class="line">    <span class="comment">// Add more here</span></div>
<div class="line">}WXPLOT_FIGURE;</div>
</div><!-- fragment --><p>The next step is to go to the file <code>plottypes.h</code> and see what it can offer. Let's say we want to add a <code>bar</code> plot to <code><a class="el" href="classwx_plot.html" title="Main class for wxPlot. This is the only class the user going to work with.">wxPlot</a></code>.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    WXPLOT_TYPE_LINE,</div>
<div class="line">    WXPLOT_TYPE_SCATTER,</div>
<div class="line">    WXPLOT_TYPE_LINE_SCATTER,</div>
<div class="line">    WXPLOT_TYPE_SPLINE,</div>
<div class="line">    WXPLOT_TYPE_SPLINE_SCATTER</div>
<div class="line">    <span class="comment">// Add more here</span></div>
<div class="line">}WXPLOT_TYPE;</div>
</div><!-- fragment --><p> Just add in <code>WXPLOT_TYPE_BAR</code></p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    WXPLOT_TYPE_LINE,</div>
<div class="line">    WXPLOT_TYPE_SCATTER,</div>
<div class="line">    WXPLOT_TYPE_LINE_SCATTER,</div>
<div class="line">    WXPLOT_TYPE_SPLINE,</div>
<div class="line">    WXPLOT_TYPE_SPLINE_SCATTER,</div>
<div class="line">    WXPLOT_TYPE_BAR</div>
<div class="line">    <span class="comment">// Add more here</span></div>
<div class="line">}WXPLOT_TYPE;</div>
</div><!-- fragment --><p>Further, go to the <code>2Dfigure.cpp</code> and add new code to all <code>draw</code>-functions and <code>get</code>-functions, e.g this.</p>
<div class="fragment"><div class="line">wxCoord _2D_Figure::getPlotEndWidth()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">switch</span> (wxPlotType) {</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_LINE:</div>
<div class="line">        <span class="keywordflow">return</span> proportional.getPlotEndWidth();</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SCATTER:</div>
<div class="line">        <span class="keywordflow">return</span> proportional.getPlotEndWidth();</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_LINE_SCATTER:</div>
<div class="line">        <span class="keywordflow">return</span> proportional.getPlotEndWidth();</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SPLINE:</div>
<div class="line">        <span class="keywordflow">return</span> proportional.getPlotEndWidth();</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SPLINE_SCATTER:</div>
<div class="line">        <span class="keywordflow">return</span> proportional.getPlotEndWidth();</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_BAR:</div>
<div class="line">        <span class="keywordflow">return</span> proportional.getPlotEndWidth(); &lt;--- NEW</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> _2D_Figure::drawFigure(wxDC&amp; dc) {</div>
<div class="line">    <span class="keywordflow">switch</span> (wxPlotType) {</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_LINE:</div>
<div class="line">        proportional.drawFigure(dc);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SCATTER:</div>
<div class="line">        proportional.drawFigure(dc);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_LINE_SCATTER:</div>
<div class="line">        proportional.drawFigure(dc);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SPLINE:</div>
<div class="line">        proportional.drawFigure(dc);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SPLINE_SCATTER:</div>
<div class="line">        proportional.drawFigure(dc);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_BAR:</div>
<div class="line">        proportional.drawFigure(dc); &lt;--- NEW</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        proportional.drawFigure(dc);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The object <code>proportional</code> is from the class <code><a class="el" href="class_proportional.html">Proportional</a></code> inside the class <code><a class="el" href="class__2_d_figure.html">_2DFigure</a></code>. That class writes the following:</p>
<ul>
<li>Rectangle</li>
<li>Grid</li>
<li>Legend</li>
<li>Ticks</li>
<li>X, Y, title labels</li>
<li>Fonts</li>
</ul>
<p>Consider the use of <code>proportional</code> when you want to have a proportional plot in both X-axis and Y-axis. If you want to use a logarithmic plot, then you need to use another object rather than <code>proportional</code>, that can draw the rectangle, grid, legend, ticks, labels and fonts. Most of the time, you can just inherit most of the code from the class <code><a class="el" href="class_proportional.html">Proportional</a></code>. The rectangle, legend, labels, fonts would be the same for a logarithmic plot. Only the grid and the ticks would differ.</p>
<p>After you have done the configuration for the <code>figure</code>. Now it's time for add code for the actuall plot - drawing on the rectangle! In this case, we are focusing on <code>2D</code> plots. Head over to the <code>2Dtype.h</code> file and add new new object <code><a class="el" href="class_bar.html">Bar</a> bar;</code> under private. Don't forget to add <code>#include "bar/bar.h"</code> as well!</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;line/line.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;scatter/scatter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;spline/spline.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;bar/bar.h&quot;</span> &lt;--- NEW</div>
<div class="line"><span class="preprocessor">#include &quot;../../plottools/plottools.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class__2_d_type.html">_2DType</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">// Type select</span></div>
<div class="line">    WXPLOT_TYPE wxPlotType = WXPLOT_TYPE_LINE;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The data</span></div>
<div class="line">    std::vector&lt;std::vector&lt;double&gt;&gt; data;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Charts</span></div>
<div class="line">    <a class="code hl_class" href="class_line.html">Line</a> line;</div>
<div class="line">    <a class="code hl_class" href="class_scatter.html">Scatter</a> scatter;</div>
<div class="line">    <a class="code hl_class" href="class_spline.html">Spline</a> spline;</div>
<div class="line">        <a class="code hl_class" href="class_bar.html">Bar</a> bar; &lt;--- NEW</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Constructor</span></div>
<div class="line">    <a class="code hl_class" href="class__2_d_type.html">_2DType</a>() { }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Setters</span></div>
<div class="line">    <span class="keywordtype">void</span> setWxPlotType(<span class="keyword">const</span> WXPLOT_TYPE wxPlotType);</div>
<div class="line">    <span class="keywordtype">void</span> setRadius(<span class="keyword">const</span> wxCoord radius);</div>
<div class="line">    <span class="keywordtype">void</span> fillCircles(<span class="keyword">const</span> <span class="keywordtype">bool</span> fillCircle);</div>
<div class="line">    <span class="keywordtype">void</span> setData(<span class="keyword">const</span> std::vector&lt;std::vector&lt;double&gt;&gt;&amp; data);</div>
<div class="line">    <span class="keywordtype">void</span> setPlotStartWidth(<span class="keyword">const</span> wxCoord plotStartWidth);</div>
<div class="line">    <span class="keywordtype">void</span> setPlotStartHeight(<span class="keyword">const</span> wxCoord plotStartHeight);</div>
<div class="line">    <span class="keywordtype">void</span> setPlotEndWidth(<span class="keyword">const</span> wxCoord plotEndWidth);</div>
<div class="line">    <span class="keywordtype">void</span> setPlotEndHeight(<span class="keyword">const</span> wxCoord plotEndHeight);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Functions</span></div>
<div class="line">    <span class="keywordtype">bool</span> drawType(wxDC&amp; dc);</div>
<div class="line">};</div>
<div class="ttc" id="aclass__2_d_type_html"><div class="ttname"><a href="class__2_d_type.html">_2DType</a></div><div class="ttdef"><b>Definition</b> 2Dtype.hpp:9</div></div>
<div class="ttc" id="aclass_bar_html"><div class="ttname"><a href="class_bar.html">Bar</a></div><div class="ttdef"><b>Definition</b> bar.hpp:7</div></div>
<div class="ttc" id="aclass_line_html"><div class="ttname"><a href="class_line.html">Line</a></div><div class="ttdef"><b>Definition</b> line.hpp:6</div></div>
<div class="ttc" id="aclass_scatter_html"><div class="ttname"><a href="class_scatter.html">Scatter</a></div><div class="ttdef"><b>Definition</b> scatter.hpp:7</div></div>
<div class="ttc" id="aclass_spline_html"><div class="ttname"><a href="class_spline.html">Spline</a></div><div class="ttdef"><b>Definition</b> spline.hpp:7</div></div>
</div><!-- fragment --><p>Create a folder called <code>bar</code> inside <code>plots/plottypes/2D</code> where <code>line</code>, <code>scatter</code> and <code>spline</code> are. Inside the <code>bar</code> folder. Add <code>bar.h</code> and <code>bar.cpp</code></p>
<p>Inside <code>bar.h</code>, paste this. Here we are inherit most of the protected fields and public functions from the <code><a class="el" href="class_line.html">Line</a></code> class. You don't need to do anything more here.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;wx/wx.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../line/line.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_bar.html">Bar</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_line.html">Line</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Functions</span></div>
<div class="line">    <span class="keywordtype">bool</span> draw(wxDC&amp; dc, <span class="keyword">const</span> std::vector&lt;double&gt;&amp; xData, <span class="keyword">const</span> std::vector&lt;double&gt;&amp; yData, <span class="keyword">const</span> <span class="keywordtype">int</span> colourIndex) <span class="keyword">override</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><p>Head over to <code>2Dtype.cpp</code> file and add code to all <code>set</code>-functions.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> _2DType::setData(<span class="keyword">const</span> std::vector&lt;std::vector&lt;double&gt;&gt;&amp; data) {</div>
<div class="line">    this-&gt;data = data;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Find max and min for the complete data, or else, we will get very weird scaling inside the plot</span></div>
<div class="line">    <span class="keywordtype">double</span> minX, maxX, minY, maxY;</div>
<div class="line">    findMaxMin2Ddata(data, minX, maxX, minY, maxY);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the limits</span></div>
<div class="line">    line.setLimits(minX, maxX, minY, maxY);</div>
<div class="line">    scatter.setLimits(minX, maxX, minY, maxY);</div>
<div class="line">    spline.setLimits(minX, maxX, minY, maxY);</div>
<div class="line">    bar.setLimits(minX, maxX, minY, maxY); &lt;--- NEW</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> _2DType::setPlotStartWidth(<span class="keyword">const</span> wxCoord plotStartWidth) {</div>
<div class="line">    line.setPlotStartWidth(plotStartWidth);</div>
<div class="line">    scatter.setPlotStartWidth(plotStartWidth);</div>
<div class="line">    spline.setPlotStartWidth(plotStartWidth);</div>
<div class="line">    bar.setPlotStartWidth(plotStartWidth); &lt;--- NEW</div>
<div class="line">}</div>
</div><!-- fragment --><p>Some functions have only a unique functionality e.g <code>scatter</code>-plot. If you want to have a unique functionality to the <code>bar</code>-plot, then you need to write a specific <code>set</code>-function for that. Here is just one example how I can set the radius and fill circles for the <code>scatter</code>-plot. These won't effect the <code>bar</code>-plot.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> _2DType::setRadius(<span class="keyword">const</span> wxCoord radius) {</div>
<div class="line">    scatter.setRadius(radius);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> _2DType::fillCircles(<span class="keyword">const</span> <span class="keywordtype">bool</span> fillCircle) {</div>
<div class="line">    scatter.fillCircles(fillCircle);</div>
<div class="line">}</div>
</div><!-- fragment --><p>The second last thing you need to do is to add code inside the <code>bool _2DType::drawType(wxDC&amp; dc)</code> function. Same <code>2Dtype.cpp</code> file. Add the new <code>bar.draw(dc, xData, yData, colourIndex)</code> as a new case.</p>
<div class="fragment"><div class="line"><span class="comment">// Draw type now</span></div>
<div class="line"><span class="keywordflow">switch</span> (wxPlotType) {</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_LINE:</div>
<div class="line">        line.draw(dc, xData, yData, colourIndex);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SCATTER:</div>
<div class="line">        scatter.draw(dc, xData, yData, colourIndex);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_LINE_SCATTER:</div>
<div class="line">        line.draw(dc, xData, yData, colourIndex);</div>
<div class="line">        scatter.draw(dc, xData, yData, colourIndex);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SPLINE:</div>
<div class="line">        spline.draw(dc, xData, yData, colourIndex);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_SPLINE_SCATTER:</div>
<div class="line">        spline.draw(dc, xData, yData, colourIndex);</div>
<div class="line">        scatter.draw(dc, xData, yData, colourIndex);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> WXPLOT_TYPE_BAR:</div>
<div class="line">        bar.draw(dc, xData, yData, colourIndex); &lt;--- NEW</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The last thing you need to do is to add code to <code>bar.cpp</code>. The one you just created above, but did not wrote anyting in to it. Let's try out this code. It won't be Beautiful, but it can give us some suggestions about what should to fixed.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;bar.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../../../plottools/plottools.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> Bar::draw(wxDC&amp; dc, <span class="keyword">const</span> std::vector&lt;double&gt;&amp; xData, <span class="keyword">const</span> std::vector&lt;double&gt;&amp; yData, <span class="keyword">const</span> <span class="keywordtype">int</span> colourIndex) {</div>
<div class="line">    <span class="comment">// Set rectangle colour</span></div>
<div class="line">    setColourPen(dc, colourIndex);</div>
<div class="line">    setColourBrush(dc, colourIndex);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Draw rectangles</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">size_t</span> dataLength = xData.size();</div>
<div class="line">    <span class="keyword">const</span> wxCoord width = (plotEndWidth - plotStartHeight) / dataLength;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; dataLength; j++) {</div>
<div class="line">        <span class="keyword">const</span> wxCoord x = linearScalarXaxis(xData.at(j), minX, plotStartWidth, maxX, plotEndWidth);</div>
<div class="line">        <span class="keyword">const</span> wxCoord y = linearScalarYaxis(yData.at(j), minY, plotStartHeight, maxY, plotEndHeight);</div>
<div class="line">        <span class="keyword">const</span> wxCoord height = plotEndHeight - y;</div>
<div class="line">        dc.DrawRectangle(x, y, width, height);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Nothing went wrong</span></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>With this data:</p>
<div class="fragment"><div class="line"><span class="comment">// Create data for bar</span></div>
<div class="line">std::vector&lt;std::vector&lt;double&gt;&gt; data = { {0}, {15}, </div>
<div class="line">                                          {1}, {20}, </div>
<div class="line">                                          {2}, {10}, </div>
<div class="line">                                          {3}, {50}, </div>
<div class="line">                                          {4}, {10}, </div>
<div class="line">                                          {5}, {-10} };</div>
<div class="line"> </div>
<div class="line">plot-&gt;setData(data);</div>
</div><!-- fragment --><p>It would look something like this. Here we can see that the Y-ticks are placed after max and minimum of <code>2D</code> vector. The minimum data of <code>data</code> 2D vector above, is <code>-10</code> and maximum value is <code>50</code>.</p>
<p><img src="https://github.com/DanielMartensson/wxPlot/blob/main/pictures/bad_bar_plot.png?raw=true" alt="a" class="inline"/></p>
<p>If we are using this data, that not contains any negative numbers, we can confirm that the Y-ticks are placed wrong.</p>
<div class="fragment"><div class="line"><span class="comment">// Create data for bar</span></div>
<div class="line">std::vector&lt;std::vector&lt;double&gt;&gt; data = { {0}, {15}, </div>
<div class="line">                                          {1}, {20}, </div>
<div class="line">                                          {2}, {10}, </div>
<div class="line">                                          {3}, {50}, </div>
<div class="line">                                          {4}, {10}, </div>
<div class="line">                                          {5}, {-10} };</div>
<div class="line"> </div>
<div class="line">plot-&gt;setData(data);</div>
</div><!-- fragment --><p><img src="https://github.com/DanielMartensson/wxPlot/blob/main/pictures/bad_bar_plot2.png?raw=true" alt="a" class="inline"/></p>
<p>To solve this issue, we need to change the <code>minY</code> so the <code>Y</code>-ticks are displayed correctly. One good option is to head over to <code>proportional.cpp</code> and add this. So if <code>minY</code> is positive, turn it to <code>0</code>, only for <code>bar</code> or other column charts.</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * This function draw the ticks.</span></div>
<div class="line"><span class="comment"> * Call this function after you have drawn the plot type.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> Proportional::drawTicks(wxDC&amp; dc) {</div>
<div class="line">    <span class="keywordflow">if</span> (ticks &gt; 0) {</div>
<div class="line">        <span class="keyword">const</span> wxCoord yStartRectangle = plotStartHeight;</div>
<div class="line">        <span class="keyword">const</span> wxCoord xStartRectangle = plotStartWidth;</div>
<div class="line">        <span class="keyword">const</span> wxCoord heightRectangle = plotEndHeight - plotStartHeight;</div>
<div class="line">        <span class="keyword">const</span> wxCoord widthRectangle = plotEndWidth - plotStartWidth;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set color - Black</span></div>
<div class="line">        wxPen pen(plotColours.at(PLOT_COLOUR_BLACK));</div>
<div class="line">        dc.SetPen(pen);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Compute the minimum and maximum value from the data for correct scaling</span></div>
<div class="line">        <span class="keywordtype">double</span> minX, maxX, minY, maxY;</div>
<div class="line">        findMaxMin2Ddata(data, minX, maxX, minY, maxY);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Only for column charts such as bar, histogram etc. &lt;--- NEW</span></div>
<div class="line">        <span class="keywordflow">switch</span> (wxPlotType) {</div>
<div class="line">        <span class="keywordflow">case</span> WXPLOT_TYPE_BAR:</div>
<div class="line">            <span class="keywordflow">if</span> (minY &gt; 0) {</div>
<div class="line">                minY = 0;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
</div><!-- fragment --><p>After few hours of figure how to make a proper column setup as a bar plot. This results this code. As you can see, there was no use of <code>X</code>-data for displaying the <code>X</code>-axis.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;bar.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../../../plottools/plottools.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> Bar::draw(wxDC&amp; dc, <span class="keyword">const</span> <span class="keywordtype">double</span> yData, <span class="keyword">const</span> <span class="keywordtype">int</span> colourIndex, <span class="keyword">const</span> <span class="keywordtype">size_t</span> dataSize, <span class="keyword">const</span> <span class="keywordtype">size_t</span> i) {</div>
<div class="line">    <span class="comment">// Set rectangle colour</span></div>
<div class="line">    setColourPen(dc, colourIndex);</div>
<div class="line">    setColourBrush(dc, colourIndex);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Some parameter</span></div>
<div class="line">    <span class="keyword">const</span> wxCoord width = (plotEndWidth - plotStartWidth) / dataSize;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Draw rectangle</span></div>
<div class="line">    <span class="keyword">const</span> wxCoord x = plotStartWidth + width * i;</div>
<div class="line">    <span class="keyword">const</span> wxCoord y = linearScalarYaxis(yData, minY, plotStartHeight, maxY, plotEndHeight);</div>
<div class="line">    <span class="keyword">const</span> wxCoord y0 = linearScalarYaxis(0, minY, plotStartHeight, maxY, plotEndHeight);</div>
<div class="line">    <span class="keyword">const</span> wxCoord yMin = linearScalarYaxis(minY, minY, plotStartHeight, maxY, plotEndHeight);</div>
<div class="line">    <span class="keyword">const</span> wxCoord delta = yMin - y0;</div>
<div class="line">    <span class="keyword">const</span> wxCoord height = plotEndHeight - y - delta;</div>
<div class="line">    dc.DrawRectangle(x, y, width, height);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Nothing went wrong</span></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p><img src="https://github.com/DanielMartensson/wxPlot/blob/main/pictures/bar_plot.png?raw=true" alt="a" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
